@if (loading$ | async) {
<div class="loader-overlay" aria-live="polite">
  <div class="loader-spinner" role="status" aria-label="Loading"></div>
  <span class="loader-text">Loading...</span>
</div>
}

@if(isAuthenticated$ | async){
<div class="app-shell bg-light min-vh-100">
  <app-nav-bar></app-nav-bar>

  <mat-drawer-container class="dashboard-container">

    <!-- Sidebar drawer -->
    <mat-drawer #drawer mode="side" opened class="side-nav">
      <app-side-nav></app-side-nav>
    </mat-drawer>

    <!-- Main content -->
    <mat-drawer-content>
      <div class="main-header">
        <button mat-icon-button (click)="drawer.toggle()">
          <mat-icon>menu</mat-icon>
        </button>
      </div>

      <div class="container-fluid py-4">
        <router-outlet></router-outlet>
      </div>
    </mat-drawer-content>

  </mat-drawer-container>
</div>
} @else {
<router-outlet></router-outlet>
}