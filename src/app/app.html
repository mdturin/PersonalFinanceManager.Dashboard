<div class="loader-overlay" *ngIf="loading$ | async" aria-live="polite">
  <div class="loader-spinner" role="status" aria-label="Loading"></div>
  <span class="loader-text">Loading...</span>
</div>

<div class="app-shell bg-light min-vh-100" *ngIf="isAuthenticated$ | async; else authLayout">
  <app-nav-bar></app-nav-bar>

  <div class="container-fluid py-4">
    <div class="row g-4 align-items-start">
      <div class="col-12 col-lg-3 col-xl-2">
        <app-side-nav></app-side-nav>
      </div>

      <main class="col-12 col-lg-9 col-xl-10">
        <router-outlet></router-outlet>
      </main>
    </div>
  </div>
</div>

<ng-template #authLayout>
  <router-outlet></router-outlet>
</ng-template>
